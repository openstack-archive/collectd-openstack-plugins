# General settings
COLLECTD_CEILOMETER_DIR=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && cd .. && pwd )
COLLECTD_BATCH_SIZE=${COLLECTD_BATCH_SIZE:-1}
# Using tag for master branch
COLLECTD_BRANCH=${COLLECTD_BRANCH:-collectd-5.7.1}
COLLECTD_DIR=${COLLECTD_DIR:-$DEST/collectd-$COLLECTD_BRANCH/}
COLLECTD_INSTALL=$(trueorfalse True COLLECTD_INSTALL)
COLLECTD_INSTALL_TYPE=${COLLECTD_INSTALL_TYPE:-'binary'}
COLLECTD_CONF_DIR=${COLLECTD_CONF_DIR:-''}
# this is a mirror of: git://git.verplant.org/collectd.git
COLLECTD_REPO=${COLLECTD_REPO:-'https://github.com/collectd/collectd.git'}
COLLECTD_PREFIX=${COLLECTD_PREFIX:-'/usr'}

COLLECTD_CEILOMETER_VERBOSE=$(trueorfalse False COLLECTD_CEILOMETER_VERBOSE)

COLLECTD_CEILOMETER_ENABLED=$(trueorfalse False COLLECTD_CEILOMETER_ENABLED)
COLLECTD_GNOCCHI_ENABLED=$(trueorfalse True COLLECTD_GNOCCHI_ENABLED)
COLLECTD_AODH_ENABLED=$(trueorfalse False COLLECTD_AODH_ENABLED)

# Configurations for Collectd LogFile plugin
COLLECTD_LOG_FILE=${COLLECTD_LOG_FILE:-$LOGDIR/collectd.log}
COLLECTD_LOG_LEVEL=${COLLECTD_LOG_LEVEL:-info}

# Ceilometer connection info.
CEILOMETER_URL_TYPE=${CEILOMETER_URL_TYPE:-internalURL}
CEILOMETER_TIMEOUT=${CEILOMETER_TIMEOUT:-1000}

# Auth info
OS_AUTH_URL="$KEYSTONE_SERVICE_URI/v$IDENTITY_API_VERSION"
OS_IDENTITY_API_VERSION=${IDENTITY_API_VERSION:-3}

# Fall back to default conf dir if option is unset
if [ -z $COLLECTD_CONF_DIR ]; then
    if is_ubuntu; then
        COLLECTD_CONF_DIR=/etc/collectd/collectd.conf.d
    elif is_fedora; then
        COLLECTD_CONF_DIR=/etc/collectd.d
    fi
fi

#Custom units feature
COLLECTD_CEILOMETER_UNITS=${COLLECTD_CEILOMETER_CUSTOM_UNITS:-none}
COLLECTD_GNOCCHI_UNITS=${COLLECTD_GNOCCHI_CUSTOM_UNITS:-none}
